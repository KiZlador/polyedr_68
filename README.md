---
date: 
author:
- К.Д. Золотарев
title: Модификация проекта «выпуклая оболочка»
---

### Постановка задачи

Необходимо написать программу, находящую значение периметра части выпуклой оболочки, расположенной внутри заданного замкнутого круга.
### Краткий комментарий к решению
Будем считать периметр внутри круга точно так же как и периметр всей оболочки, только с условием, что длина части ребра прибавляемая к ответу - лежит внутри окружности. Если мы удаляем ребро, то вычитаем из ответа часть длины этого ребра, которая лежит внутри замкнутого круга, если мы добавляем ребро, то прибавляем к ответу длину части ребра лежащего внутри замкнутого круга. Ребро не имеет общих точек с кругом или касается его - ответ 0. Ребро имеет одну общую точку с окружностью, но не касается ее. В этом случае находим эту точку, находим точку лежащую внутри окружности и считаем расстояние между ними. Ребро целиком лежит внутри окружности - ищем расстояние между крайними точками ребра. Ребро имеет 2 общих точки с окружностью. Находим координаты этих точек и вычисляем расстояние между ними.
Файлы `run_tk_convex.py` и `run_tk_convex.py` являются исполняемыми (они имеют
бит `x`), в первой строке каждого из них используется [шебанг](https://ru.wikipedia.org/wiki/%D0%A8%D0%B5%D0%B1%D0%B0%D0%BD%D0%B3_(Unix)) и команда `env` с
опцией (ключом) `-S`. Это обеспечивает передачу интерпретатору языка Python
опции (ключа) `-B`, отменяющего генерацию `pyc`-файлов в директории
`__pycache__`.

### Соблюдение соглашений о стиле программного кода

Для языка Python существуют [соглашения о стиле
кода](https://www.python.org/dev/peps/pep-0008/). Они являются лишь
рекомендациями (интерпретатор игнорирует их нарушение), но основную их
часть при написании программ целесообразно соблюдать. Существует простой
способ проверить соблюдение считающегося правильным
стиля записи кода с помощью утилиты (программы) `pycodestyle`. Утилита
`yapf` позволяет даже изменить код в соответствии с этими соглашениями.

Команда 

    pycodestyle r2point.py

позволяет, например, проверить соблюдение стиля для файла `r2point.py`.
С помощью очень мощной и часто используемой утилиты `find` проверить
корректность стиля всех файлов проекта можно так:

    find . -name '*.py' -exec pycodestyle {} \;

Эта команда находит все файлы с расширением `py` и запускает программу
`pycodestyle` последовательно для каждого из них.

### Запуск тестов

Уже известная нам команда (см. материал, посвящённый тестированию программ)

    python -B -m pytest -p no:cacheprovider tests/test_modification.py

запускает pytest, выполняя все начинающиеся с `test` методы классов,
имена которых начинаются с `Test`, содержащиеся во всех файлах `test_*.py`
директории `tests`.

### Запуск программы

`./run_convex.py`

### Запуск программы с графическим интерфейсом

`./run_tk_convex.py`
